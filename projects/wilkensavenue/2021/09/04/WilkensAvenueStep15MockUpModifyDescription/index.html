<!DOCTYPE html>
<html lang="en-us">

  <head>
  <link href="http://gmpg.org/xfn/11" rel="profile">
  <meta http-equiv="content-type" content="text/html; charset=utf-8">

  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1">

  <title>
    
      Wilkens Avenue - Step 15 - Mock Up Modify Description Modal &middot; James Clancy
    
  </title>

  
  <link rel="canonical" href="/projects/wilkensavenue/2021/09/04/WilkensAvenueStep15MockUpModifyDescription/">
  

  <link rel="stylesheet" href="/public/css/poole.css">
  <link rel="stylesheet" href="/public/css/syntax.css">
  <link rel="stylesheet" href="/public/css/lanyon.css">
  <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=PT+Serif:400,400italic,700%7CPT+Sans:400">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/all.min.css" integrity="sha512-1ycn6IcaQQ40/MKBW2W4Rhis/DbILU74C1vSrLJxCq57o941Ym01SwNsOMqvEBFlcgUa6xLiPY/NS5R+E6ztJQ==" crossorigin="anonymous" referrerpolicy="no-referrer" />

  <link rel="apple-touch-icon-precomposed" sizes="144x144" href="/public/apple-touch-icon-precomposed.png">
  <link rel="shortcut icon" href="/public/favicon.ico">

  <link rel="alternate" type="application/rss+xml" title="RSS" href="/atom.xml">

  
    <!-- Global site tag (gtag.js) - Google Analytics -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-6FZ90LRCT8"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());

      gtag('config', 'G-6FZ90LRCT8');
    </script>
  
</head>


  <body>

    <!-- Target for toggling the sidebar `.sidebar-checkbox` is for regular
     styles, `#sidebar-checkbox` for behavior. -->
<input type="checkbox" class="sidebar-checkbox" id="sidebar-checkbox">

<!-- Toggleable sidebar -->
<div class="sidebar" id="sidebar">
  <div class="sidebar-item">
    <p>Largely a mess of content. The idea is to generate content then refine sometime in the future.</p>
  </div>

  <nav class="sidebar-nav">
    <a class="sidebar-nav-item" href="/">Home</a>
    








  
  
  

  
    

    

    
    

        

        
        <a class="sidebar-nav-item" href="/categories/bookreviews/">
          BookReviews
          (<span class="text-muted small font-weight-light">
              77
              
          </span>)
        </a>

        <!-- content count -->


    


    

  

  
  
  

  
    

    

    
    

        

        
        <a class="sidebar-nav-item" href="/categories/general/">
          General
          (<span class="text-muted small font-weight-light">
              2
              
          </span>)
        </a>

        <!-- content count -->


    


    

  

  
  
  

  

  
  
  

  
    

    

    
    

        

        
        <a class="sidebar-nav-item" href="/categories/projects/">
          Projects
          (<span class="text-muted small font-weight-light">
              38
              
          </span>)
        </a>

        <!-- content count -->


    
        
          
          
          <a class="sidebar-nav-item" 
              href="/categories/kafkaui/" style="padding-left:60px;">KafkaUI (<span class="text-muted small font-weight-light">
                1
                
              </span>)</a>

          
        
          
          
          <a class="sidebar-nav-item" 
              href="/categories/safecardgame/" style="padding-left:60px;">SafeCardGame (<span class="text-muted small font-weight-light">
                17
                
              </span>)</a>

          
        
          
          
          <a class="sidebar-nav-item" 
              href="/categories/wilkensavenue/" style="padding-left:60px;">WilkensAvenue (<span class="text-muted small font-weight-light">
                20
                
              </span>)</a>

          
        
    


    

  

  
  
  

  
    

    

    
    

        

        
        <a class="sidebar-nav-item" href="/categories/recipes/">
          Recipes
          (<span class="text-muted small font-weight-light">
              16
              
          </span>)
        </a>

        <!-- content count -->


    


    

  

  
  
  

  

  
  
  

  




  </nav>


<div class="sidebar-item">
  <p>
<a href="/about">About</a> | 
<a href="https://github.com/jamesclancy" aria-label="github" target="_blank" rel="noopener"> 
  <i class="fab fa-github-alt"></i> Github </a> | 
<a href="/feed.xml" aria-label="rss"> <i class="fas fa-rss"></i> RSS </a>
    </p>
    <p>
      &copy; 2022. All rights reserved.
    </p>
  </div>
</div>


    <!-- Wrap is the content to shift when toggling the sidebar. We wrap the
         content to avoid any CSS collisions with our real content. -->
    <div class="wrap">
      <div class="masthead">
        <div class="container">
          <h3 class="masthead-title">
            <a href="/" title="Home">James Clancy</a>
            <small>This needs to be reorganized in the future.</small>
          </h3>
        </div>
      </div>

      <div class="container content">
        <div class="post">
  <h1 class="post-title">Wilkens Avenue - Step 15 - Mock Up Modify Description Modal</h1>
  <span class="post-date">04 Sep 2021</span>
  <h2 id="goals-of-this-step">Goals of this Step</h2>
<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>* Mock up/ off a modal for the user to be able to modify descriptions of the locations. 
* This would be the functionality the user encountered when they click `Submit Update to Description` on the location details pages.  
</code></pre></div></div>

<h2 id="process">Process</h2>

<p>Doing some research Quill seams like a good way to add this functionality.  I found a <a href="https://dzoukr.github.io/Feliz.Quill/#/">Feliz.Quill module</a>.</p>

<p>using <code class="language-plaintext highlighter-rouge">femto install Feliz.Quill .\src\Client\Client.fsproj</code> failed with</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>[05:12:41 INF] Found package.json in C:\tests\WilkensAvenue
[05:12:44 INF] Executing required actions for package resolution
[05:12:44 INF] Uninstalling [mocha]
[05:12:48 INF] Installing dependencies [react-quill@2.0.0-beta1, quill-blot-formatter@1.0.5]
[05:12:50 ERR] Error while installing react-quill@2.0.0-beta1, quill-blot-formatter@1.0.5
</code></pre></div></div>
<p>Mocha appears to have tried to uninstall mocha and install old versions of quill which are no longer available. This is undesirable behavior so I updated my packages.json to add mocha back and added <code class="language-plaintext highlighter-rouge">"react-quill": "^2.0.0-beta.4"</code> and <code class="language-plaintext highlighter-rouge">"quill-blot-formatter": "^1.0.5"</code> under the dependencies.</p>

<p>I then modified the <code class="language-plaintext highlighter-rouge">LocationDetails</code> page like</p>

<figure class="highlight"><pre><code class="language-fsharp" data-lang="fsharp"><span class="o">...</span>
    <span class="k">let</span> <span class="k">rec</span> <span class="n">editablePageSection</span> <span class="n">sectionTitle</span> <span class="n">previousValue</span> <span class="p">=</span>
        <span class="k">match</span> <span class="n">previousValue</span> <span class="k">with</span>
          <span class="p">|</span> <span class="nc">None</span> <span class="p">-&gt;</span> <span class="n">editablePageSection</span> <span class="n">sectionTitle</span> <span class="p">(</span><span class="nc">Some</span> <span class="s2">""</span><span class="p">)</span>
          <span class="p">|</span> <span class="nc">Some</span> <span class="n">s</span> <span class="p">-&gt;</span> 
                <span class="nn">Quill</span><span class="p">.</span><span class="n">editor</span> <span class="p">[</span>
                    <span class="n">editor</span><span class="p">.</span><span class="n">toolbar</span> <span class="p">[</span>
                        <span class="p">[</span> <span class="nc">Header</span> <span class="p">(</span><span class="nn">ToolbarHeader</span><span class="p">.</span><span class="nc">Dropdown</span> <span class="p">[</span><span class="mi">1</span><span class="p">..</span><span class="mi">4</span><span class="o">])</span> <span class="p">]</span>
                        <span class="p">[</span> <span class="nc">ForegroundColor</span><span class="p">;</span> <span class="nc">BackgroundColor</span> <span class="p">]</span>
                        <span class="p">[</span> <span class="nc">Bold</span><span class="p">;</span> <span class="nc">Italic</span><span class="p">;</span> <span class="nc">Underline</span><span class="p">;</span> <span class="nc">Strikethrough</span><span class="p">;</span> <span class="nc">Blockquote</span><span class="p">;</span> <span class="nc">Code</span> <span class="p">]</span>
                        <span class="p">[</span> <span class="nc">OrderedList</span><span class="p">;</span> <span class="nc">UnorderedList</span><span class="p">;</span> <span class="nc">DecreaseIndent</span><span class="p">;</span> <span class="nc">IncreaseIndent</span><span class="p">;</span> <span class="nc">CodeBlock</span> <span class="p">]</span>
                    <span class="p">]</span>
                    <span class="n">editor</span><span class="p">.</span><span class="n">defaultValue</span> <span class="n">s</span>
                <span class="p">]</span>

    <span class="k">let</span> <span class="n">pageContent</span> <span class="p">(</span><span class="n">model</span><span class="p">:</span> <span class="nc">LocationDetailModel</span><span class="p">)</span> <span class="p">=</span>
        <span class="p">[</span> <span class="nn">Bulma</span><span class="p">.</span><span class="n">title</span> <span class="p">[</span> <span class="n">title</span><span class="p">.</span><span class="n">is1</span>
                        <span class="n">prop</span><span class="p">.</span><span class="n">className</span> <span class="s2">"mb-5"</span>
                        <span class="n">prop</span><span class="p">.</span><span class="n">text</span> <span class="n">model</span><span class="p">.</span><span class="nc">Name</span> <span class="p">]</span>
          <span class="nn">Bulma</span><span class="p">.</span><span class="n">title</span> <span class="p">[</span> <span class="n">title</span><span class="p">.</span><span class="n">is2</span>
                        <span class="n">prop</span><span class="p">.</span><span class="n">className</span> <span class="s2">"has-text-grey "</span>
                        <span class="n">prop</span><span class="p">.</span><span class="n">text</span> <span class="n">model</span><span class="p">.</span><span class="nc">SubTitle</span> <span class="p">]</span>
          <span class="n">editablePageSection</span> <span class="s2">"Summary"</span> <span class="n">model</span><span class="p">.</span><span class="nc">Summary</span>
          <span class="n">editablePageSection</span> <span class="s2">"Description"</span> <span class="n">model</span><span class="p">.</span><span class="nn">Description</span>

<span class="p">...</span></code></pre></figure>

<p>and then I can see the rich text editors:</p>

<p><img src="\assets\img\post-media\2021-09-03-WilkensAvenueStep15MockUpModifyDescription\RTE-1.png" alt="Screenshot RTE-1" /></p>

<p>I need to make this toggle from editable to non-editable, add titles and maybe add a save button locally near the text you are editing.</p>

<p>After this I needed to add some way so toggle the editing on and off so I added a boolEditingEnabled like</p>

<figure class="highlight"><pre><code class="language-fsharp" data-lang="fsharp">    <span class="k">let</span> <span class="k">rec</span> <span class="n">editablePageSection</span> <span class="p">(</span><span class="n">sectionTitle</span><span class="p">:</span> <span class="kt">string</span><span class="p">)</span> <span class="n">previousValue</span> <span class="n">boolEditingEnabled</span> <span class="p">=</span>
      <span class="k">match</span> <span class="n">previousValue</span> <span class="k">with</span>
      <span class="p">|</span> <span class="nc">None</span> <span class="p">-&gt;</span> <span class="n">editablePageSection</span> <span class="n">sectionTitle</span> <span class="p">(</span><span class="nc">Some</span> <span class="s2">""</span><span class="p">)</span> <span class="n">boolEditingEnabled</span>
      <span class="p">|</span> <span class="nc">Some</span> <span class="n">s</span> <span class="p">-&gt;</span>
        <span class="k">if</span> <span class="k">not</span> <span class="n">boolEditingEnabled</span> <span class="k">then</span> 
            <span class="n">seq</span> <span class="p">{</span>
                <span class="k">yield</span>
                    <span class="nn">Bulma</span><span class="p">.</span><span class="n">section</span> <span class="p">[</span> <span class="n">prop</span><span class="p">.</span><span class="n">children</span> <span class="p">[</span> <span class="nn">Bulma</span><span class="p">.</span><span class="n">title</span> <span class="p">[</span> <span class="n">prop</span><span class="p">.</span><span class="n">children</span> <span class="p">[</span> <span class="nn">Html</span><span class="p">.</span><span class="n">span</span> <span class="p">[</span><span class="n">prop</span><span class="p">.</span><span class="n">text</span> <span class="n">sectionTitle</span><span class="o">];</span> <span class="nn">Html</span><span class="p">.</span><span class="n">i</span> <span class="p">[</span> <span class="n">prop</span><span class="p">.</span><span class="n">className</span> <span class="s2">"fas fa-edit is-pulled-right"</span> <span class="p">]</span>  <span class="p">]</span> <span class="p">]</span>
                                                    <span class="nn">Html</span><span class="p">.</span><span class="n">p</span> <span class="p">[</span> <span class="n">prop</span><span class="p">.</span><span class="n">text</span> <span class="n">s</span> <span class="p">]</span> <span class="p">]</span> <span class="p">]</span>
            <span class="p">}</span>
        <span class="k">else</span>
                 <span class="n">seq</span> <span class="p">{</span>
                            <span class="k">yield</span>
                                <span class="nn">Bulma</span><span class="p">.</span><span class="n">section</span> <span class="p">[</span> <span class="n">prop</span><span class="p">.</span><span class="n">children</span> <span class="p">[</span> <span class="nn">Bulma</span><span class="p">.</span><span class="n">title</span> <span class="p">[</span> <span class="n">prop</span><span class="p">.</span><span class="n">text</span> <span class="n">sectionTitle</span>  <span class="p">]</span>
                                                                <span class="nn">Quill</span><span class="p">.</span><span class="n">editor</span> <span class="p">[</span>
                                                                    <span class="n">editor</span><span class="p">.</span><span class="n">toolbar</span> <span class="p">[</span>
                                                                        <span class="p">[</span> <span class="nc">Header</span> <span class="p">(</span><span class="nn">ToolbarHeader</span><span class="p">.</span><span class="nc">Dropdown</span> <span class="p">[</span><span class="mi">1</span><span class="p">..</span><span class="mi">4</span><span class="o">])</span> <span class="p">]</span>
                                                                        <span class="p">[</span> <span class="nc">ForegroundColor</span><span class="p">;</span> <span class="nc">BackgroundColor</span> <span class="p">]</span>
                                                                        <span class="p">[</span> <span class="nc">Bold</span><span class="p">;</span> <span class="nc">Italic</span><span class="p">;</span> <span class="nc">Underline</span><span class="p">;</span> <span class="nc">Strikethrough</span><span class="p">;</span> <span class="nc">Blockquote</span><span class="p">;</span> <span class="nc">Code</span> <span class="p">]</span>
                                                                        <span class="p">[</span> <span class="nc">OrderedList</span><span class="p">;</span> <span class="nc">UnorderedList</span><span class="p">;</span> <span class="nc">DecreaseIndent</span><span class="p">;</span> <span class="nc">IncreaseIndent</span><span class="p">;</span> <span class="nc">CodeBlock</span> <span class="p">]</span>
                                                                    <span class="p">]</span>
                                                                    <span class="n">editor</span><span class="p">.</span><span class="n">defaultValue</span> <span class="n">s</span>
                                                                    <span class="n">editor</span><span class="p">.</span><span class="n">onTextChanged</span> <span class="p">(</span><span class="k">fun</span> <span class="n">x</span> <span class="p">-&gt;</span> <span class="nn">Console</span><span class="p">.</span><span class="nc">WriteLine</span><span class="p">(</span><span class="n">x</span><span class="o">))</span>
                                                                <span class="p">]</span>
                                                                <span class="nn">Bulma</span><span class="p">.</span><span class="n">button</span><span class="p">.</span><span class="n">button</span> <span class="p">[</span>
                                                                    <span class="n">button</span><span class="p">.</span><span class="n">isLarge</span>
                                                                    <span class="n">prop</span><span class="p">.</span><span class="n">text</span> <span class="s2">"Save"</span>
                                                                <span class="p">]</span> <span class="p">]</span> <span class="p">]</span>
                        <span class="p">}</span>

    <span class="k">let</span> <span class="n">pageContent</span> <span class="p">(</span><span class="n">model</span><span class="p">:</span> <span class="nc">LocationDetailModel</span><span class="p">)</span> <span class="p">=</span>
        <span class="p">[</span> <span class="nn">Bulma</span><span class="p">.</span><span class="n">title</span> <span class="p">[</span> <span class="n">title</span><span class="p">.</span><span class="n">is1</span>
                        <span class="n">prop</span><span class="p">.</span><span class="n">className</span> <span class="s2">"mb-5"</span>
                        <span class="n">prop</span><span class="p">.</span><span class="n">text</span> <span class="n">model</span><span class="p">.</span><span class="nc">Name</span> <span class="p">]</span>
          <span class="nn">Bulma</span><span class="p">.</span><span class="n">title</span> <span class="p">[</span> <span class="n">title</span><span class="p">.</span><span class="n">is2</span>
                        <span class="n">prop</span><span class="p">.</span><span class="n">className</span> <span class="s2">"has-text-grey "</span>
                        <span class="n">prop</span><span class="p">.</span><span class="n">text</span> <span class="n">model</span><span class="p">.</span><span class="nc">SubTitle</span> <span class="p">]</span>
          <span class="k">yield</span><span class="o">!</span> <span class="n">editablePageSection</span> <span class="s2">"Summary"</span> <span class="n">model</span><span class="p">.</span><span class="nc">Summary</span> <span class="bp">true</span>
          <span class="k">yield</span><span class="o">!</span> <span class="n">editablePageSection</span> <span class="s2">"Description"</span> <span class="n">model</span><span class="p">.</span><span class="nc">Description</span> <span class="bp">false</span>
          <span class="k">yield</span><span class="o">!</span> <span class="n">addressSection</span> <span class="n">model</span><span class="p">.</span><span class="nc">Address</span>
          <span class="k">yield</span><span class="o">!</span> <span class="n">displayImages</span> <span class="n">model</span><span class="p">.</span><span class="nc">Images</span>
          <span class="k">yield</span><span class="o">!</span>
              <span class="n">modifyTextInParagraphOrYieldNothing</span>
                  <span class="s2">"has-text-grey mb-5"</span>
                  <span class="p">(</span><span class="k">fun</span> <span class="n">x</span> <span class="p">-&gt;</span> <span class="s2">"Description from: "</span> <span class="o">+</span> <span class="n">x</span><span class="p">)</span>
                  <span class="n">model</span><span class="p">.</span><span class="nc">DescriptionCitation</span>
          <span class="nn">Html</span><span class="p">.</span><span class="n">div</span> <span class="p">[</span> <span class="n">prop</span><span class="p">.</span><span class="n">className</span> <span class="s2">"buttons"</span>
                     <span class="n">prop</span><span class="p">.</span><span class="n">children</span> <span class="p">[</span> <span class="nn">Html</span><span class="p">.</span><span class="n">a</span> <span class="p">[</span> <span class="n">prop</span><span class="p">.</span><span class="n">className</span> <span class="s2">"button is-primary"</span>
                                              <span class="n">prop</span><span class="p">.</span><span class="n">href</span> <span class="s2">"https://github.com/jamesclancy/WilkensAvenue"</span>
                                              <span class="n">prop</span><span class="p">.</span><span class="n">text</span> <span class="s2">"Find Directions"</span> <span class="p">]</span>
                                     <span class="nn">Html</span><span class="p">.</span><span class="n">a</span> <span class="p">[</span> <span class="n">prop</span><span class="p">.</span><span class="n">className</span> <span class="s2">"button is-primary"</span>
                                              <span class="n">prop</span><span class="p">.</span><span class="n">href</span> <span class="s2">"https://github.com/jamesclancy/WilkensAvenue"</span>
                                              <span class="n">prop</span><span class="p">.</span><span class="n">text</span> <span class="s2">"Upload Images"</span> <span class="p">]</span>
                                     <span class="nn">Html</span><span class="p">.</span><span class="n">a</span> <span class="p">[</span> <span class="n">prop</span><span class="p">.</span><span class="n">className</span> <span class="s2">"button is-primary"</span>
                                              <span class="n">prop</span><span class="p">.</span><span class="n">href</span> <span class="s2">"https://github.com/jamesclancy/WilkensAvenue"</span>
                                              <span class="n">prop</span><span class="p">.</span><span class="n">text</span> <span class="s2">"Submit Update to Description"</span> <span class="p">]</span> <span class="p">]</span> <span class="p">]</span> <span class="p">]</span></code></pre></figure>

<p>This allows the “editable fields” to be toggled on and off. When off the user can click an edit icon (which doesn’t do anything at the moment) and save the results when editing which should save the results and shift the field into the uneditable state.</p>

<p>To actually wire this up I added a Client Msg subtype:</p>

<figure class="highlight"><pre><code class="language-fsharp" data-lang="fsharp"><span class="k">type</span> <span class="nc">LocationDetailUpdate</span> <span class="p">=</span>
    <span class="p">|</span> <span class="nc">SummaryStartEdit</span>
    <span class="p">|</span> <span class="nc">SummaryTextChanged</span> <span class="k">of</span> <span class="kt">string</span>
    <span class="p">|</span> <span class="nc">SummaryTextSaved</span>
    <span class="p">|</span> <span class="nc">SummaryTextChangeCanceled</span>
    <span class="p">|</span> <span class="nc">DescriptionStartEdit</span>
    <span class="p">|</span> <span class="nc">DescriptionTextChanged</span> <span class="k">of</span> <span class="kt">string</span>
    <span class="p">|</span> <span class="nc">DescriptionTextSaved</span>
    <span class="p">|</span> <span class="nc">DescriptionTextChangeCanceled</span>

<span class="k">type</span> <span class="nc">Msg</span> <span class="p">=</span>
    <span class="p">|</span> <span class="nc">ReceivedLocationDetail</span> <span class="k">of</span> <span class="nc">LocationDetailModel</span>
    <span class="p">|</span> <span class="nc">BrowsePageFilterChanged</span> <span class="k">of</span> <span class="nc">BrowsePageFilterChange</span>
    <span class="p">|</span> <span class="nc">ReceivedBrowsePageResult</span> <span class="k">of</span> <span class="nc">BrowsePageModel</span>
    <span class="p">|</span> <span class="nc">LocationDetailUpdated</span> <span class="k">of</span> <span class="nc">LocationDetailUpdate</span></code></pre></figure>

<p>I also added a type for the editor state and added it to the ViewLocationPageModel like:</p>

<figure class="highlight"><pre><code class="language-fsharp" data-lang="fsharp"><span class="k">type</span> <span class="nc">UpdateLocationDetailState</span> <span class="p">=</span>
    <span class="p">{</span>
        <span class="nc">EditingSummary</span><span class="p">:</span> <span class="kt">bool</span>
        <span class="nc">NewSummaryContent</span><span class="p">:</span> <span class="kt">string</span>
        <span class="nc">EditingDescription</span><span class="p">:</span> <span class="kt">bool</span>
        <span class="nc">NewDescriptionContent</span><span class="p">:</span> <span class="kt">string</span>
    <span class="p">}</span>

<span class="k">type</span> <span class="nc">PageModel</span> <span class="p">=</span>
    <span class="p">|</span> <span class="nc">HomePageModel</span>
    <span class="p">|</span> <span class="nc">FindPageModel</span> <span class="k">of</span> <span class="kt">string</span> <span class="p">*</span> <span class="kt">string</span> <span class="p">*</span> <span class="kt">int</span>
    <span class="p">|</span> <span class="nc">LogoutPageModel</span>
    <span class="p">|</span> <span class="nc">YourAccountPageModel</span>
    <span class="p">|</span> <span class="nc">EditLocationPageModel</span> <span class="k">of</span> <span class="kt">string</span>
    <span class="p">|</span> <span class="nc">ViewLocationPageModel</span> <span class="k">of</span> <span class="nc">LocationDetailModel</span> <span class="p">*</span> <span class="nc">UpdateLocationDetailState</span>
    <span class="p">|</span> <span class="nc">AboutPageModel</span>
    <span class="p">|</span> <span class="nc">NotFound</span>
    <span class="p">|</span> <span class="nc">Unauthorized</span>
    <span class="p">|</span> <span class="nc">LoadNextPage</span> <span class="k">of</span> <span class="nc">BrowseFilterModel</span>
    <span class="p">|</span> <span class="nc">LoadPreviousPage</span> <span class="k">of</span> <span class="nc">BrowseFilterModel</span></code></pre></figure>

<p>I then added a default edit model generator (for initial state) and an update function:</p>

<figure class="highlight"><pre><code class="language-fsharp" data-lang="fsharp"><span class="k">let</span> <span class="n">stringEmptyOrValue</span> <span class="p">(</span><span class="n">s</span> <span class="p">:</span>  <span class="kt">string</span> <span class="n">option</span><span class="p">)</span> <span class="p">=</span>
    <span class="nn">Option</span><span class="p">.</span><span class="n">fold</span> <span class="p">(</span><span class="k">fun</span> <span class="n">x</span> <span class="n">y</span> <span class="p">-&gt;</span> <span class="n">x</span><span class="p">)</span> <span class="nn">String</span><span class="p">.</span><span class="nc">Empty</span> <span class="n">s</span>

<span class="k">let</span> <span class="n">defaultEditState</span> <span class="p">(</span><span class="n">model</span><span class="p">:</span> <span class="nc">LocationDetailModel</span><span class="p">)</span> <span class="p">:</span> <span class="nc">UpdateLocationDetailState</span> <span class="p">=</span>
    <span class="p">{</span>
        <span class="nc">EditingSummary</span> <span class="p">=</span> <span class="bp">false</span>
        <span class="nc">NewSummaryContent</span> <span class="p">=</span> <span class="n">stringEmptyOrValue</span> <span class="n">model</span><span class="p">.</span><span class="nc">Summary</span>
        <span class="nc">EditingDescription</span><span class="p">=</span> <span class="bp">false</span>
        <span class="nc">NewDescriptionContent</span><span class="p">=</span> <span class="n">stringEmptyOrValue</span> <span class="n">model</span><span class="p">.</span><span class="nc">Description</span>
    <span class="p">}</span>

<span class="k">let</span> <span class="n">updateLocationDetailsModel</span>  <span class="p">(</span><span class="n">d</span><span class="p">:</span> <span class="nc">LocationDetailUpdate</span><span class="p">)</span> <span class="p">(</span><span class="n">currPage</span> <span class="p">:</span> <span class="nc">LocationDetailModel</span><span class="p">)</span> <span class="p">(</span><span class="n">editState</span> <span class="p">:</span> <span class="nc">UpdateLocationDetailState</span><span class="p">)</span> <span class="p">=</span>
    <span class="k">match</span> <span class="n">d</span> <span class="k">with</span>
    <span class="p">|</span> <span class="nc">SummaryStartEdit</span> <span class="p">-&gt;</span> <span class="n">currPage</span><span class="p">,</span> <span class="p">{</span> <span class="n">editState</span> <span class="k">with</span> <span class="nc">EditingSummary</span> <span class="p">=</span> <span class="bp">true</span> <span class="p">}</span>
    <span class="p">|</span> <span class="nc">SummaryTextChanged</span> <span class="n">s</span><span class="p">-&gt;</span>
        <span class="nn">Console</span><span class="p">.</span><span class="nc">WriteLine</span><span class="p">(</span><span class="n">s</span><span class="p">)</span>
        <span class="n">currPage</span><span class="p">,</span> <span class="p">{</span> <span class="n">editState</span> <span class="k">with</span> <span class="nc">NewSummaryContent</span> <span class="p">=</span> <span class="n">s</span> <span class="p">}</span>
    <span class="p">|</span> <span class="nc">SummaryTextSaved</span> <span class="p">-&gt;</span>  <span class="p">{</span> <span class="n">currPage</span> <span class="k">with</span> <span class="nc">Summary</span> <span class="p">=</span> <span class="nc">Some</span> <span class="n">editState</span><span class="p">.</span><span class="nc">NewSummaryContent</span><span class="o">},</span> <span class="p">{</span> <span class="n">editState</span> <span class="k">with</span> <span class="nc">EditingSummary</span> <span class="p">=</span> <span class="bp">false</span> <span class="p">}</span>
    <span class="p">|</span> <span class="nc">SummaryTextChangeCanceled</span> <span class="p">-&gt;</span> <span class="n">currPage</span><span class="p">,</span> <span class="p">{</span> <span class="n">editState</span> <span class="k">with</span> <span class="nc">EditingSummary</span> <span class="p">=</span> <span class="bp">false</span><span class="p">;</span> <span class="nc">NewSummaryContent</span> <span class="p">=</span> <span class="n">stringEmptyOrValue</span> <span class="n">currPage</span><span class="p">.</span><span class="nc">Summary</span> <span class="p">}</span>
    <span class="p">|</span> <span class="nc">DescriptionStartEdit</span> <span class="p">-&gt;</span> <span class="n">currPage</span><span class="p">,</span> <span class="p">{</span> <span class="n">editState</span> <span class="k">with</span> <span class="nc">EditingDescription</span> <span class="p">=</span> <span class="bp">true</span> <span class="p">}</span>
    <span class="p">|</span> <span class="nc">DescriptionTextChanged</span> <span class="n">s</span> <span class="p">-&gt;</span> <span class="n">currPage</span><span class="p">,</span> <span class="p">{</span> <span class="n">editState</span> <span class="k">with</span> <span class="nc">NewDescriptionContent</span> <span class="p">=</span> <span class="n">s</span> <span class="p">}</span>
    <span class="p">|</span> <span class="nc">DescriptionTextSaved</span> <span class="p">-&gt;</span> <span class="p">{</span> <span class="n">currPage</span> <span class="k">with</span> <span class="nc">Description</span> <span class="p">=</span> <span class="nc">Some</span> <span class="n">editState</span><span class="p">.</span><span class="nc">NewDescriptionContent</span><span class="o">},</span> <span class="p">{</span> <span class="n">editState</span> <span class="k">with</span> <span class="nc">EditingDescription</span> <span class="p">=</span> <span class="bp">false</span> <span class="p">}</span>
    <span class="p">|</span> <span class="nc">DescriptionTextChangeCanceled</span> <span class="p">-&gt;</span> <span class="n">currPage</span><span class="p">,</span> <span class="p">{</span> <span class="n">editState</span> <span class="k">with</span> <span class="nc">EditingDescription</span> <span class="p">=</span> <span class="bp">false</span><span class="p">;</span> <span class="nc">NewDescriptionContent</span> <span class="p">=</span> <span class="n">stringEmptyOrValue</span> <span class="n">currPage</span><span class="p">.</span><span class="nc">Description</span> <span class="p">}</span></code></pre></figure>

<p>I updated the main update functions/ message handling function to handle these new functionality:</p>

<figure class="highlight"><pre><code class="language-fsharp" data-lang="fsharp"><span class="k">let</span> <span class="n">update</span> <span class="p">(</span><span class="n">msg</span><span class="p">:</span> <span class="nc">Msg</span><span class="p">)</span> <span class="p">(</span><span class="n">model</span><span class="p">:</span> <span class="nc">Model</span><span class="p">)</span> <span class="p">:</span> <span class="nc">Model</span> <span class="p">*</span> <span class="nc">Cmd</span><span class="p">&lt;</span><span class="nc">Msg</span><span class="p">&gt;</span> <span class="p">=</span>
    <span class="k">match</span> <span class="n">msg</span><span class="p">,</span> <span class="n">model</span><span class="p">.</span><span class="nc">PageModel</span> <span class="k">with</span>
    <span class="p">|</span> <span class="nc">ReceivedLocationDetail</span> <span class="n">d</span><span class="p">,</span> <span class="p">_</span> <span class="p">-&gt;</span> <span class="n">modelWithNewPageModel</span> <span class="n">model</span> <span class="p">(</span> <span class="p">(</span><span class="n">d</span><span class="p">,</span> <span class="nn">Pages</span><span class="p">.</span><span class="nn">LocationDetails</span><span class="p">.</span><span class="n">defaultEditState</span> <span class="n">d</span><span class="p">)</span> <span class="p">|&gt;</span> <span class="nc">ViewLocationPageModel</span><span class="o">),</span> <span class="nn">Cmd</span><span class="p">.</span><span class="n">none</span>
    <span class="p">|</span> <span class="nc">ReceivedBrowsePageResult</span> <span class="n">d</span><span class="p">,</span> <span class="p">_</span>  <span class="p">-&gt;</span> <span class="n">modelWithNewPageModel</span> <span class="n">model</span> <span class="p">(</span><span class="n">d</span> <span class="p">|&gt;</span> <span class="nc">BrowsePageModel</span><span class="o">),</span> <span class="nn">Cmd</span><span class="p">.</span><span class="n">none</span>
    <span class="p">|</span> <span class="nc">BrowsePageFilterChanged</span> <span class="n">d</span><span class="p">,</span> <span class="p">_</span>  <span class="p">-&gt;</span>
        <span class="p">(</span><span class="n">model</span><span class="p">,</span>
         <span class="p">(</span><span class="nn">Cmd</span><span class="p">.</span><span class="nn">OfAsync</span><span class="p">.</span><span class="n">perform</span>
             <span class="n">locationInformationApi</span><span class="p">.</span><span class="n">searchLocations</span>
             <span class="p">(</span><span class="n">mapBrowsePageFilterChangeToLocationSearchRequsst</span> <span class="n">d</span><span class="p">)</span>
             <span class="n">mapSearchResultToReceievedBrowsePageResult</span><span class="o">))</span>
    <span class="p">|</span> <span class="nc">LocationDetailUpdated</span> <span class="n">d</span><span class="p">,</span> <span class="nc">ViewLocationPageModel</span> <span class="p">(</span><span class="n">currPage</span><span class="p">,</span> <span class="n">currentEditState</span><span class="p">)</span>  <span class="p">-&gt;</span>
       <span class="p">{</span> <span class="n">model</span> <span class="k">with</span> <span class="nc">PageModel</span> <span class="p">=</span> <span class="nn">Pages</span><span class="p">.</span><span class="nn">LocationDetails</span><span class="p">.</span><span class="n">updateLocationDetailsModel</span> <span class="n">d</span> <span class="n">currPage</span> <span class="n">currentEditState</span> <span class="p">|&gt;</span> <span class="nc">ViewLocationPageModel</span> <span class="o">},</span> <span class="nn">Cmd</span><span class="p">.</span><span class="n">none</span>
    <span class="p">|</span> <span class="o">_,</span> <span class="p">_</span>  <span class="p">-&gt;</span> <span class="n">model</span><span class="p">,</span> <span class="nn">Cmd</span><span class="p">.</span><span class="n">none</span>

<span class="k">let</span> <span class="n">view</span> <span class="p">(</span><span class="n">model</span><span class="p">:</span> <span class="nc">Model</span><span class="p">)</span> <span class="p">(</span><span class="n">dispatch</span><span class="p">:</span> <span class="nc">Msg</span> <span class="p">-&gt;</span> <span class="kt">unit</span><span class="p">)</span> <span class="p">=</span>
    <span class="k">match</span> <span class="n">model</span><span class="p">.</span><span class="nc">PageModel</span> <span class="k">with</span>
    <span class="p">|</span> <span class="nc">HomePageModel</span> <span class="p">-&gt;</span> <span class="n">homeView</span> <span class="n">dispatch</span>
    <span class="p">|</span> <span class="nc">LoadingScreenPageModel</span> <span class="p">-&gt;</span> <span class="nn">SharedComponents</span><span class="p">.</span><span class="n">loadingScreen</span>
    <span class="p">|</span> <span class="nc">ViewLocationPageModel</span> <span class="p">(</span><span class="n">d</span><span class="p">,</span> <span class="n">e</span><span class="p">)</span> <span class="p">-&gt;</span> <span class="n">locationDetailView</span> <span class="n">d</span> <span class="n">e</span> <span class="n">dispatch</span>
    <span class="p">|</span> <span class="nc">BrowsePageModel</span> <span class="n">bpm</span> <span class="p">-&gt;</span> <span class="n">browseView</span> <span class="n">bpm</span> <span class="n">dispatch</span>
    <span class="p">|</span> <span class="nc">NotFound</span> <span class="p">-&gt;</span> <span class="n">str</span> <span class="s2">"404"</span>
    <span class="p">|</span> <span class="p">_</span> <span class="p">-&gt;</span> <span class="n">str</span> <span class="s2">"???"</span></code></pre></figure>

<p>Finally, I update the view to publish these message and reflect the bool is editing value like:</p>

<figure class="highlight"><pre><code class="language-fsharp" data-lang="fsharp">    <span class="k">let</span> <span class="k">rec</span> <span class="n">editablePageSection</span> <span class="p">(</span><span class="n">sectionTitle</span><span class="p">:</span> <span class="kt">string</span><span class="p">)</span> <span class="n">previousValue</span> <span class="n">boolEditingEnabled</span> <span class="p">(</span><span class="n">editFunction</span><span class="p">:</span> <span class="kt">string</span> <span class="p">-&gt;</span> <span class="kt">unit</span><span class="p">)</span> <span class="p">(</span><span class="n">saveChanges</span><span class="p">:</span> <span class="kt">unit</span> <span class="p">-&gt;</span> <span class="kt">unit</span><span class="p">)</span> <span class="p">(</span><span class="n">cancelChanges</span><span class="p">:</span>  <span class="kt">unit</span> <span class="p">-&gt;</span> <span class="kt">unit</span><span class="p">)</span> <span class="p">(</span><span class="n">startEditing</span><span class="p">:</span>  <span class="kt">unit</span> <span class="p">-&gt;</span> <span class="kt">unit</span><span class="p">)</span>  <span class="p">=</span> 
      <span class="k">match</span> <span class="n">previousValue</span> <span class="k">with</span>
      <span class="p">|</span> <span class="nc">None</span> <span class="p">-&gt;</span> <span class="n">editablePageSection</span> <span class="n">sectionTitle</span> <span class="p">(</span><span class="nc">Some</span> <span class="s2">""</span><span class="p">)</span> <span class="n">boolEditingEnabled</span> <span class="n">editFunction</span> <span class="n">saveChanges</span> <span class="n">cancelChanges</span> <span class="n">startEditing</span>
      <span class="p">|</span> <span class="nc">Some</span> <span class="n">s</span> <span class="p">-&gt;</span>
        <span class="k">if</span> <span class="k">not</span> <span class="n">boolEditingEnabled</span> <span class="k">then</span> 
            <span class="n">seq</span> <span class="p">{</span>
                <span class="k">yield</span>
                    <span class="nn">Bulma</span><span class="p">.</span><span class="n">section</span> <span class="p">[</span> <span class="n">prop</span><span class="p">.</span><span class="n">children</span> <span class="p">[</span> <span class="nn">Bulma</span><span class="p">.</span><span class="n">title</span> <span class="p">[</span> <span class="n">prop</span><span class="p">.</span><span class="n">children</span> <span class="p">[</span>
                                                                        <span class="nn">Html</span><span class="p">.</span><span class="n">span</span> <span class="p">[</span><span class="n">prop</span><span class="p">.</span><span class="n">text</span> <span class="n">sectionTitle</span><span class="o">];</span>
                                                                        <span class="nn">Html</span><span class="p">.</span><span class="n">i</span> <span class="p">[</span> <span class="n">prop</span><span class="p">.</span><span class="n">className</span> <span class="s2">"fas fa-edit is-pulled-right"</span>
                                                                                 <span class="n">prop</span><span class="p">.</span><span class="n">onClick</span> <span class="p">(</span><span class="k">fun</span> <span class="n">x</span> <span class="p">-&gt;</span> <span class="n">startEditing</span> <span class="bp">()</span><span class="o">)]</span>  <span class="p">]</span> <span class="p">]</span>
                                                    <span class="nn">Html</span><span class="p">.</span><span class="n">p</span> <span class="p">[</span> <span class="n">prop</span><span class="p">.</span><span class="n">innerHtml</span> <span class="n">s</span> <span class="p">]</span> <span class="p">]</span> <span class="p">]</span>
            <span class="p">}</span>
        <span class="k">else</span>
                 <span class="n">seq</span> <span class="p">{</span>
                            <span class="k">yield</span>
                                <span class="nn">Bulma</span><span class="p">.</span><span class="n">section</span> <span class="p">[</span> <span class="n">prop</span><span class="p">.</span><span class="n">children</span> <span class="p">[</span> <span class="nn">Bulma</span><span class="p">.</span><span class="n">title</span> <span class="p">[</span> <span class="n">prop</span><span class="p">.</span><span class="n">text</span> <span class="n">sectionTitle</span>  <span class="p">]</span>
                                                                <span class="nn">Quill</span><span class="p">.</span><span class="n">editor</span> <span class="p">[</span>
                                                                    <span class="n">editor</span><span class="p">.</span><span class="n">toolbar</span> <span class="p">[</span>
                                                                        <span class="p">[</span> <span class="nc">Header</span> <span class="p">(</span><span class="nn">ToolbarHeader</span><span class="p">.</span><span class="nc">Dropdown</span> <span class="p">[</span><span class="mi">1</span><span class="p">..</span><span class="mi">4</span><span class="o">])</span> <span class="p">]</span>
                                                                        <span class="p">[</span> <span class="nc">ForegroundColor</span><span class="p">;</span> <span class="nc">BackgroundColor</span> <span class="p">]</span>
                                                                        <span class="p">[</span> <span class="nc">Bold</span><span class="p">;</span> <span class="nc">Italic</span><span class="p">;</span> <span class="nc">Underline</span><span class="p">;</span> <span class="nc">Strikethrough</span><span class="p">;</span> <span class="nc">Blockquote</span><span class="p">;</span> <span class="nc">Code</span> <span class="p">]</span>
                                                                        <span class="p">[</span> <span class="nc">OrderedList</span><span class="p">;</span> <span class="nc">UnorderedList</span><span class="p">;</span> <span class="nc">DecreaseIndent</span><span class="p">;</span> <span class="nc">IncreaseIndent</span><span class="p">;</span> <span class="nc">CodeBlock</span> <span class="p">]</span>
                                                                    <span class="p">]</span>
                                                                    <span class="n">editor</span><span class="p">.</span><span class="n">defaultValue</span> <span class="n">s</span>
                                                                    <span class="n">editor</span><span class="p">.</span><span class="n">onTextChanged</span> <span class="p">(</span><span class="k">fun</span> <span class="n">x</span> <span class="p">-&gt;</span> <span class="n">editFunction</span> <span class="n">x</span><span class="p">)</span>
                                                                <span class="p">]</span>
                                                                <span class="nn">Bulma</span><span class="p">.</span><span class="n">field</span><span class="p">.</span><span class="n">div</span> <span class="p">[</span>
                                                                    <span class="nn">Bulma</span><span class="p">.</span><span class="n">field</span><span class="p">.</span><span class="n">hasAddons</span>
                                                                    <span class="n">prop</span><span class="p">.</span><span class="n">children</span> <span class="p">[</span>
                                                                        <span class="nn">Bulma</span><span class="p">.</span><span class="n">control</span><span class="p">.</span><span class="n">p</span> <span class="p">[</span>
                                                                            <span class="nn">Bulma</span><span class="p">.</span><span class="n">button</span><span class="p">.</span><span class="n">button</span> <span class="p">[</span>
                                                                                <span class="nn">Bulma</span><span class="p">.</span><span class="n">color</span><span class="p">.</span><span class="n">isSuccess</span>
                                                                                <span class="n">prop</span><span class="p">.</span><span class="n">onClick</span> <span class="p">(</span><span class="k">fun</span> <span class="n">x</span> <span class="p">-&gt;</span> <span class="n">saveChanges</span> <span class="bp">()</span><span class="p">)</span>
                                                                                <span class="n">prop</span><span class="p">.</span><span class="n">children</span> <span class="p">[</span>
                                                                                    <span class="nn">Bulma</span><span class="p">.</span><span class="n">icon</span> <span class="p">[</span> <span class="nn">Html</span><span class="p">.</span><span class="n">i</span> <span class="p">[</span> <span class="n">prop</span><span class="p">.</span><span class="n">className</span> <span class="s2">"fas fa-save"</span> <span class="p">]</span> <span class="p">]</span>
                                                                                    <span class="nn">Html</span><span class="p">.</span><span class="n">span</span> <span class="p">[</span> <span class="n">prop</span><span class="p">.</span><span class="n">text</span> <span class="s2">"Save"</span> <span class="p">]</span> <span class="p">]</span>
                                                                            <span class="p">]</span>
                                                                        <span class="p">]</span>
                                                                        <span class="nn">Bulma</span><span class="p">.</span><span class="n">control</span><span class="p">.</span><span class="n">p</span> <span class="p">[</span>
                                                                            <span class="nn">Bulma</span><span class="p">.</span><span class="n">button</span><span class="p">.</span><span class="n">button</span> <span class="p">[</span>
                                                                                <span class="nn">Bulma</span><span class="p">.</span><span class="n">color</span><span class="p">.</span><span class="n">isWarning</span>
                                                                                <span class="n">prop</span><span class="p">.</span><span class="n">onClick</span> <span class="p">(</span><span class="k">fun</span> <span class="n">x</span> <span class="p">-&gt;</span> <span class="n">cancelChanges</span> <span class="bp">()</span><span class="p">)</span>
                                                                                <span class="n">prop</span><span class="p">.</span><span class="n">children</span> <span class="p">[</span>
                                                                                    <span class="nn">Bulma</span><span class="p">.</span><span class="n">icon</span> <span class="p">[</span> <span class="nn">Html</span><span class="p">.</span><span class="n">i</span> <span class="p">[</span> <span class="n">prop</span><span class="p">.</span><span class="n">className</span> <span class="s2">"fas fa-trash"</span> <span class="p">]</span> <span class="p">]</span>
                                                                                    <span class="nn">Html</span><span class="p">.</span><span class="n">span</span> <span class="p">[</span> <span class="n">prop</span><span class="p">.</span><span class="n">text</span> <span class="s2">"Cancel"</span> <span class="p">]</span> <span class="p">]</span>
                                                                            <span class="p">]</span>
                                                                        <span class="p">]</span>
                                                                    <span class="p">]</span>
                                                                <span class="p">]</span> <span class="p">]</span> <span class="p">]</span>
                        <span class="p">}</span>

    <span class="k">let</span> <span class="n">pageContent</span> <span class="p">(</span><span class="n">model</span><span class="p">:</span> <span class="nc">LocationDetailModel</span><span class="p">)</span> <span class="p">(</span><span class="n">editState</span> <span class="p">:</span> <span class="nc">UpdateLocationDetailState</span><span class="p">)</span> <span class="p">(</span><span class="n">dispatch</span><span class="p">:</span> <span class="nc">LocationDetailUpdate</span> <span class="p">-&gt;</span> <span class="kt">unit</span><span class="o">)=</span>
        <span class="p">[</span> <span class="nn">Bulma</span><span class="p">.</span><span class="n">title</span> <span class="p">[</span> <span class="n">title</span><span class="p">.</span><span class="n">is1</span>
                        <span class="n">prop</span><span class="p">.</span><span class="n">className</span> <span class="s2">"mb-5"</span>
                        <span class="n">prop</span><span class="p">.</span><span class="n">text</span> <span class="n">model</span><span class="p">.</span><span class="nc">Name</span> <span class="p">]</span>
          <span class="nn">Bulma</span><span class="p">.</span><span class="n">title</span> <span class="p">[</span> <span class="n">title</span><span class="p">.</span><span class="n">is2</span>
                        <span class="n">prop</span><span class="p">.</span><span class="n">className</span> <span class="s2">"has-text-grey "</span>
                        <span class="n">prop</span><span class="p">.</span><span class="n">text</span> <span class="n">model</span><span class="p">.</span><span class="nc">SubTitle</span> <span class="p">]</span>
          <span class="k">yield</span><span class="o">!</span> <span class="n">editablePageSection</span> <span class="s2">"Summary"</span> <span class="n">model</span><span class="p">.</span><span class="nc">Summary</span> <span class="n">editState</span><span class="p">.</span><span class="nc">EditingSummary</span> <span class="p">(</span><span class="k">fun</span> <span class="n">x</span> <span class="p">-&gt;</span> <span class="n">x</span> <span class="p">|&gt;</span> <span class="nc">SummaryTextChanged</span> <span class="p">|&gt;</span> <span class="n">dispatch</span><span class="p">)</span> <span class="p">(</span><span class="k">fun</span> <span class="n">x</span> <span class="p">-&gt;</span> <span class="nc">SummaryTextSaved</span> <span class="p">|&gt;</span> <span class="n">dispatch</span><span class="p">)</span> <span class="p">(</span><span class="k">fun</span> <span class="n">x</span> <span class="p">-&gt;</span> <span class="nc">SummaryTextChangeCanceled</span> <span class="p">|&gt;</span> <span class="n">dispatch</span><span class="p">)</span>  <span class="p">(</span><span class="k">fun</span> <span class="n">x</span> <span class="p">-&gt;</span> <span class="nc">SummaryStartEdit</span> <span class="p">|&gt;</span> <span class="n">dispatch</span><span class="p">)</span>
          <span class="k">yield</span><span class="o">!</span> <span class="n">editablePageSection</span> <span class="s2">"Description"</span> <span class="n">model</span><span class="p">.</span><span class="nc">Description</span> <span class="n">editState</span><span class="p">.</span><span class="nc">EditingDescription</span> <span class="p">(</span><span class="k">fun</span> <span class="n">x</span> <span class="p">-&gt;</span> <span class="n">x</span> <span class="p">|&gt;</span> <span class="nc">DescriptionTextChanged</span> <span class="p">|&gt;</span> <span class="n">dispatch</span><span class="p">)</span> <span class="p">(</span><span class="k">fun</span> <span class="n">x</span> <span class="p">-&gt;</span> <span class="nc">DescriptionTextSaved</span> <span class="p">|&gt;</span> <span class="n">dispatch</span><span class="p">)</span> <span class="p">(</span><span class="k">fun</span> <span class="n">x</span> <span class="p">-&gt;</span> <span class="nc">DescriptionTextChangeCanceled</span> <span class="p">|&gt;</span> <span class="n">dispatch</span><span class="p">)</span>  <span class="p">(</span><span class="k">fun</span> <span class="n">x</span> <span class="p">-&gt;</span> <span class="nc">DescriptionStartEdit</span> <span class="p">|&gt;</span> <span class="n">dispatch</span><span class="p">)</span>
          <span class="k">yield</span><span class="o">!</span> <span class="n">addressSection</span> <span class="n">model</span><span class="p">.</span><span class="nc">Address</span>
          <span class="k">yield</span><span class="o">!</span> <span class="n">displayImages</span> <span class="n">model</span><span class="p">.</span><span class="nc">Images</span>
          <span class="k">yield</span><span class="o">!</span>
              <span class="n">modifyTextInParagraphOrYieldNothing</span>
                  <span class="s2">"has-text-grey mb-5"</span>
                  <span class="p">(</span><span class="k">fun</span> <span class="n">x</span> <span class="p">-&gt;</span> <span class="s2">"Description from: "</span> <span class="o">+</span> <span class="n">x</span><span class="p">)</span>
                  <span class="n">model</span><span class="p">.</span><span class="nc">DescriptionCitation</span>
          <span class="nn">Html</span><span class="p">.</span><span class="n">div</span> <span class="p">[</span> <span class="n">prop</span><span class="p">.</span><span class="n">className</span> <span class="s2">"buttons"</span>
                     <span class="n">prop</span><span class="p">.</span><span class="n">children</span> <span class="p">[</span> <span class="nn">Html</span><span class="p">.</span><span class="n">a</span> <span class="p">[</span> <span class="n">prop</span><span class="p">.</span><span class="n">className</span> <span class="s2">"button is-primary"</span>
                                              <span class="n">prop</span><span class="p">.</span><span class="n">href</span> <span class="s2">"https://github.com/jamesclancy/WilkensAvenue"</span>
                                              <span class="n">prop</span><span class="p">.</span><span class="n">text</span> <span class="s2">"Find Directions"</span> <span class="p">]</span>
                                     <span class="nn">Html</span><span class="p">.</span><span class="n">a</span> <span class="p">[</span> <span class="n">prop</span><span class="p">.</span><span class="n">className</span> <span class="s2">"button is-primary"</span>
                                              <span class="n">prop</span><span class="p">.</span><span class="n">href</span> <span class="s2">"https://github.com/jamesclancy/WilkensAvenue"</span>
                                              <span class="n">prop</span><span class="p">.</span><span class="n">text</span> <span class="s2">"Upload Images"</span> <span class="p">]</span> <span class="p">]</span> <span class="p">]</span> <span class="p">]</span></code></pre></figure>

<p>One thing that wasn’t 100% clear here from the documentation was to set hte <code class="language-plaintext highlighter-rouge">innerHtml</code> prop on the p. This might be clear to someone with more ReactJS experience but I had to spend some time googling to determine what to do.</p>

<p>This needs to be refactored and actually hooked up to the backend but I am ending the step here.</p>

<h2 id="results">Results</h2>

<p><a href="https://github.com/jamesclancy/WilkensAvenue/tree/step-15">Git branch for this step</a></p>

</div>


<div class="related">
  <h2>Related posts</h2>
  <ul class="related-posts">
    
      <li>
        <h3>
          <a href="/bookreviews/2022/09/16/Redshirts/">
            Redshirts by John-Scalzi
            <small>16 Sep 2022</small>
          </a>
        </h3>
      </li>
    
      <li>
        <h3>
          <a href="/bookreviews/2022/09/02/ThomasJeffersonTripoliPirates/">
            Thomas Jefferson and the Tripoli Pirates by Brian Kilmeade
            <small>02 Sep 2022</small>
          </a>
        </h3>
      </li>
    
      <li>
        <h3>
          <a href="/bookreviews/2022/08/24/DestinyDisrupted/">
            Destiny Disrupted - A History of the World Through Islamic Eyes by Tamim Ansary
            <small>24 Aug 2022</small>
          </a>
        </h3>
      </li>
    
  </ul>
</div>


      </div>
    </div>

    <label for="sidebar-checkbox" class="sidebar-toggle"></label>

    <script src='/public/js/script.js'></script>
  </body>
</html>
